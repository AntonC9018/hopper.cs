<#  foreach (var method in ExportedMethods) 
    { #>
        public static void <#= method.Name #>HandlerAdapter(<#= method.ContextName #> ctx)
        {
<#= method.AdapterBody() #>
        }
        public static Handler<<#= method.ContextName #>> <#= method.Name #>Handler;
<#      if (method.IsDynamic) 
        { #>
        public static HandlerWrapper<<#= method.ContextName #>> <#= method.Name #>HandlerWrapper;
<#      } #>

<#  } #>
        public static void InitHandlers()
        {
<#  foreach (var method in ExportedMethods) { #>
            <#= method.Name #>Handler.handler = <#= method.Name #>HandlerAdapter;
            <#= method.Name #>Handler.priority = Registry.Global.NextPriority(PriorityRank.<#= method.Priority #>);
<#      if (method.IsDynamic) { #>
            <#= method.Name #>HandlerWrapper.handler = <#= method.Name #>Handler;
            <#= method.Name #>HandlerWrapper.chainPath = <#= method.Chain #>Path;
<#      } 
    } #>
        }